!function(e){function t(t){for(var r,i,u=t[0],l=t[1],c=t[2],f=0,d=[];f<u.length;f++)i=u[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);d.length;)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var s=l;a.push([51,1]),n()}({45:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(7),i=n.n(a),u=n(9),l=n(1),c=n.n(l),s=function(e){var t=Math.min(e.height,e.width),n=e.borderWidth>.3*t?1:e.borderWidth,r={backgroundColor:["green","brown"][Math.floor(e.value%2)],cursor:"pointer",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",transitionProperty:"top, left",transitionDuration:"0.3s",transitionTimingFunction:"ease-in",position:"absolute",top:"".concat(e.top,"px"),left:"".concat(e.left,"px"),border:"".concat(n,"px solid white"),height:"".concat(e.height-2*n,"px"),width:"".concat(e.width-2*n,"px"),fontSize:.4*t,fontWeight:"bold"};return o.a.createElement("div",{style:r,onClick:e.onClick},e.value)};s.propTypes={top:c.a.number.isRequired,left:c.a.number.isRequired,height:c.a.number.isRequired,width:c.a.number.isRequired,value:c.a.any.isRequired,borderWidth:c.a.number,onClick:c.a.func},s.defaultProps={borderWidth:1};var f=o.a.memo(s);function d(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e){var t=e.columns,n=e.height,a=e.width,i=e.tiles,u=e.onTileClicked,l=Math.ceil(i.length/t),c=Math.floor(a/t),s=Math.floor(n/l),m={width:"".concat(c*t+1,"px"),height:"".concat(s*l+1,"px"),position:"relative",backgroundColor:"darkgrey"},h=Object(r.useMemo)((function(){return d(Array(i.length).keys()).map((function(e){return function(){return u(e)}}))}),[i.length,u]);return o.a.createElement("div",{style:m,id:"grid"},i.map((function(e,n){if(null!==e){var r=Math.floor(n/t),a=n%t;return o.a.createElement(f,{key:e,value:e,left:a*c+2,top:r*s+2,height:s,width:c,borderWidth:2,onClick:h[n]})}return null})))};h.propTypes={columns:c.a.number.isRequired,height:c.a.number.isRequired,width:c.a.number.isRequired,tiles:c.a.arrayOf(c.a.number).isRequired,onTileClicked:c.a.func.isRequired};var b=h,p={},v=function(e){return Object.create(e)}(p);window.__GLOBAL_FUNCTION_HOOKS__=v;function y(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.size=t}var t,n,r;return t=e,(n=[{key:"isSolved",value:function(e){for(var t=0;t<e.length-1;t++)if(e[t]!==t+1)return!1;return null===e[e.length-1]}},{key:"checkMove",value:function(e,t){var n,r=Math.floor(t/this.size),o=t%this.size;return r>0&&null===e[n=this.index(r-1,o)]||r<this.size-1&&null===e[n=this.index(r+1,o)]||o>0&&null===e[n=this.index(r,o-1)]||o<this.size-1&&null===e[n=this.index(r,o+1)]?n:-1}},{key:"index",value:function(e,t){return e*this.size+t}},{key:"executeMove",value:function(e,t,n){var r=e.slice(0);return r[n]=e[t],r[t]=e[n],r}},{key:"createBoard",value:function(){if(this.size<2)return[null];var e,t,n=(e=1,t=this.size*this.size,y(Array(t-e).keys()).map((function(t){return t+e})));n.push(null);for(var r=50;r-- >0;){var o=j(n);if(!this.isSolved(o)&&this._isSolvable(o))return o}throw Error("too many iterations trying to produce valid board of size ".concat(this.size))}},{key:"_isSolvable",value:function(e){for(var t=0,n=0;n<e.length;n++)if(null!==e[n])for(var r=n+1;r<e.length;r++)null!==e[r]&&e[n]>e[r]&&t++;var o=0;if(this.size%2==0){var a;for(a=0;a<e.length&&null!==e[a];a++);o=(Math.floor(a/this.size)+1)%2}return t%2===o}}])&&g(t.prototype,n),r&&g(t,r),e}();var O,S,j=(O=function(e){for(var t,n=(e=e.slice(0)).length;n>1;){var r=(t=n--,Math.floor(Math.random()*Math.floor(t))),o=e[r];e[r]=e[n],e[n]=o}return e},S="shuffle",Object.defineProperty(p,S,{writable:!0,enumerable:!1,configurable:!0,value:O}),function(){return v[S].apply(void 0,arguments)});var M=n(19);function A(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=new E(e).createBoard();return{board:t,size:e,moves:[],originalBoard:t}}var R=Object(M.a)((function(e){return e.size}),(function(e){return new E(e)})),P=function(e){return e.moves.length>0},x=Object(M.a)([R,function(e){return e.board}],(function(e,t){return e.isSolved(t)})),G=Object(M.a)([R,function(e){return e.board}],(function(e,t){return function(n){return e.checkMove(t,n)}})),I=function(e){return x(e.game)},T=function(e){return G(e.game)},q={moveTile:function(e,t){return{type:"MOVE_TILE",move:{from:e,to:t}}}};var D=Object(u.b)((function(e){var t=e.game;return{board:t.board,size:t.size,checkMove:T(e)}}),q)((function(e){var t,n,a=e.board,i=e.size,u=e.height,l=e.width,c=e.checkMove,s=e.moveTile;return o.a.createElement(b,{tiles:a,columns:i,height:u,width:l,onTileClicked:(t=function(e){var t=c(e);t>=0&&s(e,t)},n=Object(r.useRef)(),Object(r.useEffect)((function(){n.current=t}),[t]),Object(r.useCallback)((function(){return n.current.apply(void 0,arguments)}),[n]))})})),L=n(58),W=n(55),U=n(32),B=n(20),F=o.a.memo((function(e){var t=e.id,n=e.label,r=e.icon,a=e.enabled,i=void 0===a?"true":a,u=e.handler,l=e.style,c=void 0===l?"secondary":l;return o.a.createElement(L.a,{size:"lg",variant:c,disabled:!i,id:t,onClick:u,className:"ml-1"},o.a.createElement(U.a,{icon:r,className:"mr-2"}),o.a.createElement("span",null,n))})),V=function(e){var t=e.canUndo,n=e.onUndo,r=e.canReset,a=e.onReset,i=e.onNewGame;return o.a.createElement(W.a,null,o.a.createElement(F,{id:"undo",label:"Undo",icon:B.c,enabled:t,handler:n}),o.a.createElement(F,{id:"reset",label:"Reset",icon:B.a,enabled:r,handler:a}),o.a.createElement(F,{id:"newgame",label:"New Game",icon:B.b,handler:i,style:"primary"}))};V.propTypes={canUndo:c.a.bool.isRequired,canReset:c.a.bool.isRequired,onUndo:c.a.func.isRequired,onReset:c.a.func.isRequired,onNewGame:c.a.func.isRequired};var H=V,$=Object(u.b)((function(e){var t=function(e){return P(e.game)}(e),n=I(e);return{canReset:!n&&t,canUndo:!n&&t}}),(function(e){return{onReset:function(){return e({type:"RESET_BOARD"})},onUndo:function(){return e({type:"UNDO_MOVE"})},onNewGame:function(){return e({type:"OPEN_NEW_GAME_MODAL"})}}}))(H),J=n(56),K=n(57);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,u=e[Symbol.iterator]();!(r=(i=u.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=function(e){var t=Y(Object(r.useState)(e.defaultSize),2),n=t[0],a=t[1],i=+n,u=i>=e.minSize&&i<=e.maxSize,l=function(){return u&&e.onSubmit(i)},c=Object(r.useRef)(null);return Object(r.useLayoutEffect)((function(){e.show&&c.current.focus()}),[e.show]),o.a.createElement(J.a,{show:e.show,onHide:e.onClose,backdrop:!!e.canClose||"static",id:"newGameModal"},o.a.createElement(J.a.Header,{closeButton:e.canClose},o.a.createElement(J.a.Title,null,e.title)),o.a.createElement(J.a.Body,null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l()}},o.a.createElement(K.a.Group,null,o.a.createElement(K.a.Label,null,"Choose Puzzle Size:"),o.a.createElement(K.a.Control,{type:"text",isInvalid:!u,autoFocus:!0,ref:c,value:n,onChange:function(e){return a(e.target.value)}}),o.a.createElement(K.a.Control.Feedback,{type:"invalid"},"Enter a number between 3 and 12")))),o.a.createElement(J.a.Footer,null,e.canClose&&o.a.createElement(L.a,{variant:"outline-secondary",onClick:e.onClose,id:"newgamecancel"},"Cancel"),o.a.createElement(L.a,{variant:"primary",onClick:l,disabled:!u,id:"newgamestart"},"Start Game !")))};X.propTypes={show:c.a.bool.isRequired,title:c.a.string.isRequired,canClose:c.a.bool.isRequired,onSubmit:c.a.func.isRequired,onClose:c.a.func.isRequired,defaultSize:c.a.number,minSize:c.a.number,maxSize:c.a.number},X.defaultProps={minSize:3,maxSize:10,defaultSize:4};var Z=X;function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=Object(u.b)((function(e,t){var n=e.modal;return{showInit:n.showInit,showNewGame:n.showNewGame,ownProps:t}}))((function(e){var t=e.showInit,n=e.showNewGame,r=e.ownProps,a=e.dispatch,i=!0,u="",l=!1;return t?(l=!0,i=!1,u="Welcome to N-Puzzle!"):n&&(l=!0,i=!0,u="Start a new game?"),o.a.createElement(Z,ee({},r,{show:l,title:u,canClose:i,onClose:function(){a({type:"CLOSE_NEW_GAME_MODAL"})},onSubmit:function(e){a(function(e){return{type:"NEW GAME",size:e}}(e))}}))})),ne=function(e){var t=e.show,n=e.onClose,r=e.onNewGame;return o.a.createElement(J.a,{show:t,onHide:n,id:"solvedModal",backdrop:"static"},o.a.createElement(J.a.Header,{closeButton:!0},o.a.createElement(J.a.Title,null,"Puzzle Solved")),o.a.createElement(J.a.Body,null,"Congratulations you have successfully finished the puzzle!!!",o.a.createElement("br",null),o.a.createElement("br",null),"Start a new game?",o.a.createElement("br",null)),o.a.createElement(J.a.Footer,null,o.a.createElement(L.a,{variant:"secondary",id:"solvedstart",onClick:r,autoFocus:!0},"Yes"),o.a.createElement(L.a,{variant:"secondary",id:"solvedcancel",onClick:n},"No")))};ne.propTypes={onClose:c.a.func.isRequired,onNewGame:c.a.func.isRequired,show:c.a.bool.isRequired};var re,oe=ne,ae=Object(u.b)((function(e){return{show:I(e)&&e.modal.canShowSolved}}),(function(e){return{onClose:function(){return e({type:"CLOSE_SOLVED_MODAL"})},onNewGame:function(){return e({type:"OPEN_NEW_GAME_MODAL"})}}}))(oe),ie=n(53),ue=n(54),le={defaultSize:4,minSize:2,maxSize:12},ce=function(){return o.a.createElement(ie.a,{fluid:"true"},o.a.createElement(o.a.StrictMode,null,o.a.createElement(ue.a,{className:"justify-content-md-center"},o.a.createElement("h1",null," N-Puzzle ")),o.a.createElement(ue.a,null,o.a.createElement("br",null)),o.a.createElement(ue.a,{className:"justify-content-md-center"},o.a.createElement(D,{height:400,width:400})),o.a.createElement(ue.a,null,o.a.createElement("br",null)),o.a.createElement(ue.a,{className:"justify-content-md-center"},o.a.createElement($,null))),o.a.createElement(ae,null),o.a.createElement(te,le))},se=n(12),fe={showInit:!0,showNewGame:!1,canShowSolved:!1},de=Object(se.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k(1),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW GAME":return k(t.size);case"RESET_BOARD":return x(e)||!P(e)?e:N(N({},e),{},{board:e.originalBoard,moves:[]});case"MOVE_TILE":if(x(e))return e;var n=t.move,r=R(e).executeMove(e.board,n.from,n.to);return N(N({},e),{},{board:r,moves:[].concat(A(e.moves),[n])});case"UNDO_MOVE":if(x(e)||!P(e))return e;var o=e.moves.slice(0),a=o.pop(),i=a.from,u=a.to;return N(N({},e),{},{board:R(e).executeMove(e.board,u,i),moves:o});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NEW_GAME_MODAL":return{showInit:!1,showNewGame:!0,canShowSolved:e.canShowSolved};case"CLOSE_NEW_GAME_MODAL":return{showInit:!1,showNewGame:!1,canShowSolved:e.canShowSolved};case"CLOSE_SOLVED_MODAL":return{showInit:e.showInit,showNewGame:e.showNewGame,canShowSolved:!1};case"NEW GAME":return{showInit:!1,showNewGame:!1,canShowSolved:!0};default:return e}}}),me=(n(46),n(45),Object(se.d)(de,re,se.a.apply(void 0,[])));i.a.render(o.a.createElement(u.a,{store:me},o.a.createElement(ce,null)),document.getElementById("root"))}});
//# sourceMappingURL=main.js.map